# 接口文档

OnlineTest的接口文档

## 系统

### ping测试

请求方式：`GET`

请求路径：`/OnlineTest/api/v1/test`

Query参数

| 参数名 | 参数值 |
| ------ | ------ |
| action | ping   |

返回示例

```json
{
    "code": 0,
    "message": "操作成功",
    "data": "pong"
}
```

## 管理员

### 管理员登陆

TODO: 开发中

### 退出

TODO: 开发中

## 学生

### 查询所有学生

请求方式：`GET`

请求路径：`/OnlineTest/api/v1/student`

Query参数

| 参数名 | 参数值        |
| ------ | ------------- |
| action | getAllStudent |

返回示例

```json
{
    "code": 0,
    "message": "操作成功",
    "data": {
        "students": [
            {
                "id": 7,
                "username": "zixiangfei",
                "password": "123456",
                "email": "zxf@163.com"
            },
            {
                "id": 8,
                "username": "student1",
                "password": "123456",
                "email": "student1@qq.com",
                "nikename": "student1"
            },
            {
                "id": 209,
                "username": "student2",
                "password": "123456",
                "email": "student2@qq.com",
                "nikename": "student2"
            }
        ],
        "type": "student"
    }
}
```

### 查询学生（分页）

请求方式：`GET`

请求路径：`/OnlineTest/api/v1/student`

Query参数

| 参数名   | 参数值      |
| -------- | ----------- |
| action   | pageStudent |
| pageNo   | 1           |
| pageSize | 10          |

返回示例

```json
{
    "code": 0,
    "message": "操作成功",
    "data": {
        "pageNo": 1,
        "pageTotal": 10,
        "pageSize": 10,
        "pageTotalCount": 99,
        "items": [
            {
                "id": 7,
                "username": "zixiangfei",
                "password": "123456",
                "email": "zxf@163.com"
            },
            {
                "id": 8,
                "username": "student1",
                "password": "123456",
                "email": "student1@qq.com",
                "nikename": "student1"
            },
            {
                "id": 209,
                "username": "student2",
                "password": "123456",
                "email": "student2@qq.com",
                "nikename": "student2"
            },
            {
                "id": 210,
                "username": "student3",
                "password": "123456",
                "email": "student3@qq.com",
                "nikename": "student3"
            },
            {
                "id": 211,
                "username": "student4",
                "password": "123456",
                "email": "student4@qq.com",
                "nikename": "student4"
            },
            {
                "id": 212,
                "username": "student5",
                "password": "123456",
                "email": "student5@qq.com",
                "nikename": "student5"
            },
            {
                "id": 213,
                "username": "student6",
                "password": "123456",
                "email": "student6@qq.com",
                "nikename": "student6"
            },
            {
                "id": 214,
                "username": "student9",
                "password": "123456",
                "email": "student9@qq.com",
                "nikename": "student9"
            },
            {
                "id": 215,
                "username": "student10",
                "password": "123456",
                "email": "student10@qq.com",
                "nikename": "student10"
            },
            {
                "id": 216,
                "username": "student11",
                "password": "123456",
                "email": "student11@qq.com",
                "nikename": "student11"
            }
        ],
        "url": "studentServlet?action=pageStudent",
        "type": "student"
    }
}
```



## 教师

### 查询教师（分页）

请求方式：`GET`

请求路径：`/OnlineTest/api/v1/teacher`

Query参数

| 参数名   | 参数值      |
| -------- | ----------- |
| action   | pageTeacher |
| pageNo   | 1           |
| pageSize | 10          |

返回示例

```json
{
    "code": 0,
    "message": "操作成功",
    "data": {
        "pageNo": 1,
        "pageTotal": 1,
        "pageSize": 10,
        "pageTotalCount": 2,
        "items": [
            {
                "id": 1,
                "username": "teacher",
                "password": "123456",
                "email": "tea@qq.com"
            },
            {
                "id": 2,
                "username": "teacher2",
                "password": "123456",
                "email": "teacher2@qq.com",
                "nikename": "teacher2"
            }
        ],
        "url": "teacherServlet?action=pageTeacher",
        "type": "teacher"
    }
}
```



## 课程

### 查询课程（分页）

请求方式：`GET`

请求路径：`/OnlineTest/api/v1/subject`

Query参数

| 参数名   | 参数值      |
| -------- | ----------- |
| action   | pageSubject |
| pageNo   | 1           |
| pageSize | 10          |

返回示例

```json
{
    "code": 0,
    "message": "操作成功",
    "data": {
        "pageNo": 1,
        "pageTotal": 1,
        "pageSize": 10,
        "pageTotalCount": 5,
        "items": [
            {
                "id": 10,
                "name": "数据结构"
            },
            {
                "id": 11,
                "name": "操作系统"
            },
            {
                "id": 12,
                "name": "计算机网络"
            },
            {
                "id": 13,
                "name": "计算机组成原理"
            },
            {
                "id": 14,
                "name": "编译原理"
            }
        ],
        "url": "subjectServlet?action=pageSubject",
        "type": "subject"
    }
}
```

### 添加课程

请求方式：`POST`

请求路径：`/OnlineTest/api/v1/subject`

Query参数

| 参数名      | 参数值   |
| ----------- | -------- |
| action      | add      |
| pageNo      | 1        |
| pageSize    | 10       |
| insert-name | 编译原理 |

请求示例

```json
{
    "code": -1,
    "message": "该课程已存在！",
    "data": {
        "pageNo": 1,
        "pageTotal": 1,
        "pageSize": 10,
        "pageTotalCount": 5,
        "items": [
            {
                "id": 10,
                "name": "数据结构"
            },
            {
                "id": 11,
                "name": "操作系统"
            },
            {
                "id": 12,
                "name": "计算机网络"
            },
            {
                "id": 13,
                "name": "计算机组成原理"
            },
            {
                "id": 14,
                "name": "编译原理"
            }
        ],
        "url": "subjectServlet?action=pageSubject",
        "type": "subject"
    }
}
```

### 课程是否存在

请求方式：`GET`

请求路径：`/OnlineTest/api/v1/subject`

Query参数

| 参数名 | 参数值            |
| ------ | ----------------- |
| action | existsSubjectName |
| name   | 编译原理          |

返回示例

```json
{
    "code": 0,
    "message": "操作成功",
    "data": {
        "existsSubjectName": true
    }
}
```



## 班级

### 查询班级（分页）

请求方式：`GET`

请求路径：`/OnlineTest/api/v1/class`

Query参数

| 参数名   | 参数值    |
| -------- | --------- |
| action   | pageClass |
| pageNo   | 1         |
| pageSize | 10        |

返回示例

```json
{
    "code": 0,
    "message": "操作成功",
    "data": {
        "pageNo": 1,
        "pageTotal": 0,
        "pageSize": 10,
        "pageTotalCount": 0,
        "items": [],
        "url": "classServlet?action=pageClass",
        "type": "class"
    }
}
```

